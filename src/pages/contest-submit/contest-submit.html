<ion-content class="body">
  <form (ngSubmit)="onSubmit()">
    <div class="navbar">
      <a href="#" (click)="goToDashboard()"><img src="../../assets/icon/Menu.png" alt="Menu icon"></a>
      <h1>Contest Submit</h1>
      <div class="btn-group">
        <button type="button" class="btn btn-profile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <img src="../../assets/icon/Profil02.png" alt="profile icon">
        </button>
        <div class="dropdown-menu dropdown-menu-right">
          <button type="button" class="dropdown-item" (click)="goToProfilePage()"><img src="../../assets/icon/Profil.png" alt="profile icon"> Profile</button>
          <hr>
          <button type="button" class="dropdown-item" (click)="goToSettingsPage()"><img src="../../assets/icon/Gear.png" alt="profile icon"> Settings</button>
          <hr>
          <button type="button" class="dropdown-item" (click)="logout()"><img src="../../assets/icon/Logout.png" alt="profile icon"> Logout</button>
        </div>
      </div>
    </div>
    <h1>Upload your image :</h1>
    <section class="upload">
      <div class="container">
        <div class="row pictures" *ngIf="!state.isUploading && !image_local">
          <div class="col">
            <a href="#" (click)="TakeaPicture()">
              <div class="take-picture-container">
                <img class="camera-img" src="../../assets/imgs/appareil.png" alt="camera">
              </div>
              <p class="font-weight-light text-center">Take a Picture</p>
            </a>
          </div>
          <div class="divider"></div>
          <div class="col">
            <a href="#" (click)="navToGallery()">
              <div class="take-picture-container">
                <img class="computer-img" src="../../assets/imgs/on_your_computer.png" alt="On your computer">
              </div>
              <p class="font-weight-light text-center">On your device</p>
            </a>
          </div>
        </div>
        <div class="row pictures" *ngIf="state.isUploading">
          <h3>Uploading photo....</h3>
        </div>
        <div class="row preview" *ngIf="!!image_local">
          <div class="col">
            <img class="preview_image" [src]="image_local">
            <button type="button" ion-button icon-only clear style="color: white;" (click)="closeLocalImage()">
              <ion-icon ios="ios-close-circle" md="md-close"></ion-icon>
            </button>
          </div>
        </div>
      </div>
    </section>
    <section class="description">
        <div class="container">
          <div class="row">
            <div class="col">
              <p><span class="bold">Short Description</span> <span class="thin">(English Only)</span></p>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <ion-textarea name="description" id="" cols="30" rows="10" [(ngModel)]="submit.description" placeholder="Give a title to your picture !"></ion-textarea>
            </div>
          </div>
        </div>
    </section>
    <div class="pt-4 pb-4">
      <div class="row next">
        <div class="col-5 text-center">
          <button type="submit" class="btn btn-next" [disabled]="state.isPosting">NEXT</button>
        </div>
      </div>
    </div>
  </form>
  <div class="col-5 offset-1 text-center" (click)="goBack()">
    <button class="btn btn-back">BACK</button>
  </div>
</ion-content>
