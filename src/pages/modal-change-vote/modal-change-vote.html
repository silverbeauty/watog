<ion-content class="body">
    <div class="navbar">
      <a href="#" (click)="goToDashboard()"><img src="assets/icon/Menu.png" alt="Menu icon"></a>
      <h1>Vote</h1>
      <div class="btn-group">
        <button type="button" class="btn btn-profile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <img src="assets/icon/Profil02.png" alt="profile icon">
        </button>
        <div class="dropdown-menu dropdown-menu-right">
          <button type="button" class="dropdown-item"><img src="assets/icon/Profil.png" alt="profile icon"> Profile</button>
          <hr>
          <button type="button" class="dropdown-item" (click)="goToSettingsPage()"><img src="assets/icon/Gear.png" alt="profile icon"> Settings</button>
          <hr>
          <button type="button" class="dropdown-item"  data-toggle="modal" data-target="#modal-logout-modal-change"><img src="assets/icon/Logout.png" alt="profile icon"> Logout</button>
        </div>
      </div>
    </div>
    <div>
      <ion-icon (click)="goBack()" class="back-s" name="arrow-back"></ion-icon>
    </div>
    <section class="posts">
      <div class="stack" swing-stack  [stackConfig]="stackConfig"  #postStacks (throwout)="onThrowOut($event)">
        <div swing-card #postCard class="post_img" [ngClass]="'Post:' + post.id" access-key="post.id" *ngFor="let post of posts" [ngStyle]="{'background-image':'url(' + post.picture + ')'}" ></div>
      </div>
    </section>
    <section class="description text-center" *ngIf="activeIndex > -1">
      {{posts[activeIndex].description}}
    </section>
    <div class="notif text-center" *ngIf="isVoted()">
      <h3>You already rated this photo!</h3>
      <!--img class="vote-img-heart" src="../../assets/imgs/Like.png" alt="like img" *ngIf="isVoted().commend"-->
      <ion-icon name="heart-outline" *ngIf="isVoted().commend" style="font-size: 3em;"></ion-icon>

      <img class="vote-img-hand" src="../../assets/imgs/LikeWATOG.png" alt="dislike img" *ngIf="!(isVoted().commend)">
    </div>

    <div class="toolbar container">
      <div class="row change-cancel" *ngIf="isVoted()">
        <div class="col text-center">
          <button ion-button round color="light" (click)="changeVote()">Change</button>
        </div>
        <div class="col text-center">
          <button class="cancel" ion-button round (click)="cancelVote()">Cancel</button>
        </div>
      </div>
    </div>

</ion-content>

<div id="modal-logout-modal-change" class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title ">Confirm Logout</h5>
        <button id="btn-modal-close" type="button" class="close hide" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body p-4">
        <p>Do you really want to Logout?</p>
      </div>
      <div class="modal-footer">
        <button ion-button round color="light" class="text-uppercase mr-3" data-dismiss="modal">Cancel</button>
        <button ion-button round color="teal" class="text-uppercase" (click)="logout()" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div>